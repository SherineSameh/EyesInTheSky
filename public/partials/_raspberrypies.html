<div class="row">
  <div class="col s12 m12">
    <div class="card">
      <div class="card-content">
          <h5 class="card-title">Raspberry pies Details</h5>
          <div class="nav-wrapper card">
              <div class="input-field">
                <input id="search" type="search" ng-model="search">
                <label class="label-icon" for="search"><i class="material-icons">search</i></label>
              </div>
          </div>
          <table class="striped responsive-table">
            <thead>
              <tr>
                <th></th>
                <th>Mac</th>
                <th>Processes</th>
                <th>CPU Usage</th>
                <th>Disk Usage</th>
                <th>RAM Usage</th>
                <th>Temperature</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="spec in specs | filter:search">
                    <td>
                      <button data-target="showDetails" class="btn processBtn waves-effect waves-light btn-flat" ng-click="showDetails(spec.Mac, spec.LocationLat, spec.LocationLng, spec.LocationName, spec.PublicIP, spec.Username, spec.Password, spec.HasCamera, spec.Generation, spec.OS, spec.Ram, spec.Storage)">
                        <!-- <i class="material-icons large">list</i> -->
                        <i class="material-icons">more_vert</i>
                      </button>
                    </td>
                    <td>{{spec.Mac}}</td>
                    <td>
                      <button  data-target="RunningProcesses" class="btn processBtn waves-effect waves-light btn-flat" ng-click ="getProcesses(spec.Mac)">
                        <i class="material-icons large dark-blue">assignment_turned_in</i>
                        <span>{{spec.Jobs_Num}}</span>
                      </button>
                    </td>
                    <td>
                      <div id="circle" class="c100 p{{spec.CpuUsage | number:0}} small hide-on-small-only	">
                        <span id="value">{{spec.CpuUsage}}%</span>
                        <div class="slice">
                          <div class="bar"></div>
                          <div class="fill"></div>
                        </div>
                      </div>
                      <div class="show-on-small-only">
                        <span id="value">{{spec.CpuUsage}}%</span>
                      </div>
                    </td>
                    <td>
                      <div id="circle" class="c100 p{{spec.FreeStorage | number:0}} small hide-on-small-only">
                        <span id="value">{{spec.FreeStorage}}%</span>
                        <div class="slice">
                          <div class="bar"></div>
                          <div class="fill"></div>
                        </div>
                      </div>
                      <div class="show-on-small-only">
                        <span id="value">{{spec.FreeStorage}}%</span>
                      </div>
                    </td>
                    <td>
                      <div id="circle" class="c100 p{{spec.FreeStorage | number:0}} small hide-on-small-only">
                        <span id="value">{{spec.RamUsage}}%</span>
                        <div class="slice">
                          <div class="bar"></div>
                          <div class="fill"></div>
                        </div>
                      </div>
                      <div class="show-on-small-only">
                        <span id="value">{{spec.RamUsage}}%</span>
                      </div>
                    </td>
                    <td>
                      <div class="row">
                        <img class="temp hide-on-small-only" src="public/assets/img/temperature.png"/>
                      </div>
                      <div class="row">
                        <span class="tempValue">{{spec.Temperature}}&deg;C</span>
                      </div>
                    </td>
              </tr>
            </tbody>
          </table>
      </div>
    </div>
  </div>
</div>

<div id="RunningProcesses" class="modal">
  <div class="modal-footer">
    <a href="#dashboard" class="modal-action modal-close btn-floating waves-effect waves-light btn-flat" ng-click=""><i class="material-icons black-text">close</i>
    </a>
  </div>
   <div class="modal-content">
     <h6>MAC Address: {{currentMac}}</h6><hr />
     <table class="striped responsive-table">
       <thead>
         <tr>
           <th>Process Name</th>
           <th>Container ID</th>
           <th>Start Time</th>
           <th>User Username</th>
           <th></th>
         </tr>
       </thead>
       <tbody>
         <tr ng-repeat="process in processes">
           <td>{{process.Process_name}}</td>
           <td>{{process.Cont_id}}</td>
           <td>{{process.Start_time}}</td>
           <td>{{process.User_username}}</td>
           <td>
               <a class="btn-floating waves-effect waves-light btn-flat" ng-click="killProcess(process.Cont_id, currentMac)">
                 <i class="material-icons red-text">close</i>
               </a>
           </td>
         </tr>
       </tbody>
     </table>
   </div>
</div>

<div id="showDetails" class="modal" style="overflow-y:hidden;">
  <div class="modal-footer">
    <a href="#dashboard" class="modal-action modal-close btn-floating waves-effect waves-light btn-flat" ng-click=""><i class="material-icons black-text">close</i>
    </a>
  </div>
  <div class="modal-content">
      <div class="row">
       <h6>MAC Address: {{currentMac}}</h6><hr />
       <div class="fixed-action-btn horizontal click-to-toggle">
         <a class="btn-floating btn-large blue">
           <i class="material-icons">menu</i>
         </a>
         <ul>
           <li>
             <a class="btn-floating yellow darken-1" ng-click="restartPi(currentMac)">
               <i class="material-icons">refresh</i>
             </a>
           </li>
           <li>
             <a class="btn-floating red" ng-click="shutdownPi(currentMac)">
              <i class="material-icons">close</i>
            </a>
           </li>
         </ul>
       </div>
     </div>
      <div class ="row">
      <div class="col m5 s12">
         <h6><i class="material-icons">settings</i> Specifications:</h6> <hr />
         <span style="text-align:left">
           PublicIP: {{PublicIP}} <br />
           Username: {{Username}} <br />
           Password: {{Password}} <br />
           HasCamera: {{HasCamera}} <br />
           Generation: {{Generation}} <br />
           os: {{os}} <br />
           Ram: {{Ram}} <br />
           Storage: {{storage}}
         </span>
       </div>
      <div class="col m7 s12">
         <h6> <i class="material-icons">room</i> Location: {{LocationName}}</h6><hr />
         <span>
           Show Location at:<br />
           LocationLat: {{LocationLat}} , LocationLng: {{LocationLng}}
         </span>
         <div class="card-panel">
           <div id="map" class="map" style="position: relative;overflow: hidden;height: 20vh;"></div>
         </div>
       </div>
    </div>
  </div>
